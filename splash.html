<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Carregando...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    html, body {
      background: linear-gradient(120deg,#18243c,#22354a 75%,#36d6a9 130%);
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      min-height: 100vh;
      animation: bgmove 8s linear infinite alternate;
    }
    @keyframes bgmove {
      0% { background-position: 0 0; }
      100% { background-position: 60px 80px; }
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      color: #eafdf8;
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      animation: fadeIn 1.1s;
    }
    @keyframes fadeIn { from {opacity:0;transform:translateY(30px);} to {opacity:1;transform:translateY(0);} }
    .splash-logo {
      width: 92px;
      height: 92px;
      margin-bottom: 24px;
      border-radius: 50%;
      background: linear-gradient(130deg,#45f8e6 40%,#29405b 120%);
      box-shadow: 0 0 24px #44ffd940, 0 2px 24px #23272f80, 0 0 0 4px #32e4bb40;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      animation: pulse 1.7s infinite alternate;
      z-index: 2;
      overflow: hidden;
    }
    .splash-logo:after {
      content: '';
      position: absolute;
      left: -14px; top: -14px; right: -14px; bottom: -14px;
      border-radius: 50%;
      background: radial-gradient(circle, #40e1ffa7 30%, transparent 90%);
      filter: blur(2.5px);
      z-index: 0;
      animation: halo 2.7s infinite alternate;
    }
    @keyframes pulse { to { box-shadow: 0 0 44px #32e4bb90, 0 6px 32px #30f0e080, 0 0 0 12px #42e4bc33;} }
    @keyframes halo { 0%{ opacity:0.6;} 100%{opacity:1;} }
    .splash-logo img {
      width: 64px;
      height: 64px;
      border-radius: 15px;
      box-shadow: 0 2px 20px #13ffee44;
      z-index: 1;
      position: relative;
      animation: fadeIn 0.6s;
      object-fit: contain;
      background: #18243c;
    }
    .splash-title {
      font-size: 1.33rem;
      font-weight: 700;
      letter-spacing: 1.5px;
      margin-bottom: 8px;
      color: #73f6e5;
      text-shadow: 0 2px 18px #0f2c2690, 0 0 10px #2be4d466;
      text-align: center;
      opacity: 0;
      animation: fadeIn 0.9s 0.23s forwards;
    }
    .splash-subtitle {
      color: #d2fff8;
      font-size: 1.02rem;
      opacity: 0.95;
      margin-bottom: 25px;
      text-align: center;
      letter-spacing: 1.1px;
      opacity: 0;
      animation: fadeIn 0.7s 0.39s forwards;
    }
    .progress-bar-bg {
      width: 245px;
      height: 15px;
      background: #182f41;
      border-radius: 13px;
      box-shadow: 0 2px 12px #273a4390 inset;
      overflow: hidden;
      margin-bottom: 11px;
      border: 2.5px solid #2be4d4;
      position: relative;
      z-index: 2;
    }
    .progress-bar-fill {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg,#4be5e2 10%,#00fff6 50%,#36d6a9 100%);
      border-radius: 13px;
      box-shadow: 0 2px 9px #4be5e270;
      transition: width 0.43s cubic-bezier(.45,.29,.43,1.23);
    }
    .progress-bar-bg:after {
      content: '';
      display: block;
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      border-radius: 13px;
      background: linear-gradient(90deg,transparent 0%,#b9fff9c0 60%,transparent 100%);
      opacity: .09;
      z-index: 1;
    }
    .progress-txt {
      text-align: center;
      font-size: 1.01rem;
      color: #86f7e4;
      letter-spacing: 0.8px;
      opacity: 0.88;
      text-shadow: 0 2px 6px #01332636;
      margin-top: 0;
      opacity: 0;
      animation: fadeIn 1.1s 0.69s forwards;
    }
    @media (max-width: 450px) {
      .splash-title { font-size: 1.01rem; }
      .progress-bar-bg { width: 96vw; min-width: 120px; }
    }
  </style>
</head>
<body>
  <div class="splash-logo">
    <img src="icons/icon.png" alt="Logo do app">
  </div>
  <div class="splash-title">RM MANIFEST TOOL</div>
  <div class="splash-subtitle">Carregando o app, aguarde...</div>
  <div class="progress-bar-bg">
    <div class="progress-bar-fill" id="progressBar"></div>
  </div>
  <div class="progress-txt" id="progressText">Iniciando...</div>

  <script>
    // Recebe status/progresso via Electron (atualização, etc)
    if (window.electronAPI) {
      window.electronAPI.onSplashStatus((_, text) => {
        document.getElementById('progressText').textContent = text;
      });
      window.electronAPI.onSplashProgress((_, percent) => {
        document.getElementById('progressBar').style.width = percent + '%';
      });
    }
    // fallback para dev (simula progresso visual)
    if (!window.electronAPI) {
      const steps = [
        { text: "Carregando módulos...", percent: 20, delay: 620 },
        { text: "Verificando dependências...", percent: 45, delay: 600 },
        { text: "Checando conexão...", percent: 70, delay: 590 },
        { text: "Preparando interface...", percent: 89, delay: 550 },
        { text: "Finalizando...", percent: 100, delay: 500 },
      ];
      let i = 0;
      function nextStep() {
        if(i >= steps.length) return;
        document.getElementById('progressText').textContent = steps[i].text;
        document.getElementById('progressBar').style.width = steps[i].percent + "%";
        setTimeout(() => { i++; nextStep(); }, steps[i].delay);
      }
      window.onload = nextStep;
    }
  </script>
</body>
</html>
